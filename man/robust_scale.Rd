% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/robust_scale.R
\name{robust_scale}
\alias{robust_scale}
\title{Robustly scale a matrix or vector}
\usage{
robust_scale(X_mat)
}
\arguments{
\item{X_mat}{A numeric matrix or object coercible to a numeric matrix.}
}
\value{
A list containing three elements:
\itemize{
  \item \strong{X_scaled:} A matrix with the scaled data.
  \item \strong{Median:} A numeric vector of the median for each column, used for centering.
  \item \strong{MAD:} A numeric vector of the MAD for each column, used for scaling.
}
If a column is constant or has all `NA`s after removing `NA`s, the scale is treated as zero, and the corresponding scaled column will be all zeros.
}
\description{
This function performs robust scaling on a numeric matrix or vector by
centering the data using the median and scaling by the median absolute deviation (MAD).
This method is more resistant to outliers than traditional scaling with the
mean and standard deviation.
}
\details{
The function iterates through each column of the input matrix.
For each column, it computes the median and the MAD.
Each data point \eqn{x_i} is then transformed using the formula \deqn{(x_i - \text{median}) / \text{MAD}},
The constant 1.4826 is used to make the MAD comparable to the standard deviation under the assumption of a normal distribution.
If a column's MAD is effectively zero, the scaled values for that column are set to zero to prevent division-by-zero errors.
}
\examples{
# Example with a standard matrix
mat <- matrix(c(1, 2, 3, 10, 20, 30, 100, 200, 300), nrow = 3)
robust_scale(mat)

# Example with an outlier
mat_outlier <- matrix(c(1, 2, 3, 10, 20, 1000, 100, 200, 300), nrow = 3)
robust_scale(mat_outlier)

# Example with a single column that is constant
const_col <- matrix(c(5, 5, 5, 10, 20, 30), ncol = 2)
robust_scale(const_col)

# Example with a data frame
df <- data.frame(a = c(1, 2, 3), b = c(10, 20, 30))
robust_scale(df)

}
\seealso{
\code{\link[stats]{median}}, \code{\link[stats]{mad}}
}
